!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("window-or-global");b.exports=function(){return"function"==typeof d.Promise&&"function"==typeof d.Promise.prototype.then}},{"window-or-global":34}],2:[function(a,b,c){"use strict";var d={single_source_shortest_paths:function(a,b,c){var e={},f={};f[b]=0;var g=d.PriorityQueue.make();g.push(b,0);for(var h,i,j,k,l,m,n,o,p;!g.empty();){h=g.pop(),i=h.value,k=h.cost,l=a[i]||{};for(j in l)l.hasOwnProperty(j)&&(m=l[j],n=k+m,o=f[j],p="undefined"==typeof f[j],(p||o>n)&&(f[j]=n,g.push(j,n),e[j]=i))}if("undefined"!=typeof c&&"undefined"==typeof f[c]){var q=["Could not find a path from ",b," to ",c,"."].join("");throw new Error(q)}return e},extract_shortest_path_from_predecessor_list:function(a,b){for(var c,d=[],e=b;e;)d.push(e),c=a[e],e=a[e];return d.reverse(),d},find_path:function(a,b,c){var e=d.single_source_shortest_paths(a,b,c);return d.extract_shortest_path_from_predecessor_list(e,c)},PriorityQueue:{make:function(a){var b,c=d.PriorityQueue,e={};a=a||{};for(b in c)c.hasOwnProperty(b)&&(e[b]=c[b]);return e.queue=[],e.sorter=a.sorter||c.default_sorter,e},default_sorter:function(a,b){return a.cost-b.cost},push:function(a,b){var c={value:a,cost:b};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};"undefined"!=typeof b&&(b.exports=d)},{}],3:[function(a,b,c){!function(a,d){"object"==typeof c&&"undefined"!=typeof b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.durruti=d()}(this,function(){"use strict";function a(){return"undefined"!=typeof window}function b(){w===!0&&console.warn.apply(console,arguments)}function c(){var a=[];for(var b in document)"on"===b.substr(0,2)&&a.push(b);return a}function d(a,b,c){u.apply(this,arguments),y.push({target:this,type:a,fn:b,capture:c})}function e(a){for(var b=0;b<y.length;)y[b].target===a&&(a.removeEventListener(y[b].type,y[b].fn,y[b].capture),y.splice(b,1),b--),b++;z.forEach(function(b){a[b]=null})}function f(a,b,c){for(var d=0;d<a.childNodes.length;d++)i(a.childNodes[d],b.childNodes[d],c)}function g(a,b){for(var c={},d=0;d<a.attributes.length;d++)c[a.attributes[d].name]=null;for(var e=0;e<b.attributes.length;e++)c[b.attributes[e].name]=b.attributes[e].value;return c}function h(a,b){var c=g(a,b);for(var d in c)null===c[d]?(a.removeAttribute(d),"checked"===d&&(a.checked=!1)):a.setAttribute(d,c[d])}function i(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],d={node:a,newNode:b};return c.push(d),a.isEqualNode(b)?(A(a,!0),c):(1!==a.nodeType||1!==b.nodeType||a.tagName!==b.tagName||a.childNodes.length!==b.childNodes.length?d.replace=!0:(d.update=!0,A(a),f(a,b,c)),c)}function j(a){a.replace?a.node.parentNode.replaceChild(a.newNode,a.node):a.update&&h(a.node,a.newNode)}function k(a){return a.forEach(j),a}function l(a){var b;return b="function"==typeof a?new a:Object.create(a),b._durrutiId=String(H++),G.push({id:b._durrutiId,component:b}),b}function m(a){if(a._durruti)return a._durruti;for(var b=a.getAttribute(E),c=0;c<G.length;c++)if(G[c].id===b)return G[c].component}function n(a,b){var c=[].slice.call(a.querySelectorAll(F));return b&&c.push(a),c.forEach(function(a){a._durruti=m(a),a.removeAttribute(E)}),c}function o(a){var b=m(a);b.unmount&&b.unmount(a),q(b)}function p(a){var b=m(a);b.mount&&b.mount(a)}function q(a){if(a){for(var b=0;b<G.length;b++)if(G[b].id===a._durrutiId)return void G.splice(b,1)}else H=0,G.length=0}function r(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a=a.trim();var b,c="div";if(0===a.indexOf("<tr")?c="tbody":0===a.indexOf("<td")&&(c="tr"),b=document.createElement(c),b.innerHTML=a,1!==b.children.length)throw new Error("Component template must have a single parent node.",a);return b.firstElementChild}function s(a,b){var c=a.indexOf("/>");c===-1&&(c=a.indexOf(">"));var d=" "+E+'="'+b._durrutiId+'"';return a.substr(0,c)+d+a.substr(c)}function t(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(a._durruti&&b.push(a),a.children)for(var c=0;c<a.children.length;c++)t(a.children[c],b);return b}var u,v=a(),w=!0,x=function(){},y=[],z=[];v&&(z=c(),window.Node.prototype.hasOwnProperty("addEventListener")?(u=window.Node.prototype.addEventListener,window.Node.prototype.addEventListener=d):window.EventTarget.prototype.hasOwnProperty("addEventListener")&&(u=window.EventTarget.prototype.addEventListener,window.EventTarget.prototype.addEventListener=d),x=function(a,b){if(e(a),b&&a.children)for(var c=0;c<a.children.length;c++)x(a.children[c],!0)});var A=x,B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},C=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},D=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),E="data-durruti-id",F="["+E+"]",G=[],H=0,I=function(){function a(){C(this,a)}return D(a,[{key:"server",value:function(){return q(),this}},{key:"render",value:function(a,c){var d=l(a);if("undefined"==typeof d.render)throw new Error("Components must have a render() method.");var e=d.render(),f=s(e,d);if(v&&c){var g,h,j=function(){if(!document.body.contains(c))return b("Node",c,"is no longer in the DOM. \nIt was probably removed by a parent component."),{v:void 0};var a=[];g=r(f),t(c).forEach(o),m(c)?(n(g,!0),h=i(c,g),h.forEach(function(b){b.node._durruti=b.newNode._durruti,b.node._durruti&&(b.replace?a.push(b.newNode):b.update?a.push(b.node):Array.prototype.push.apply(a,t(b.node)))}),k(h)):(c.firstElementChild&&c.firstElementChild.isEqualNode(g)||(c.innerHTML=f),a=n(c)),a.forEach(p)}();if("object"===("undefined"==typeof j?"undefined":B(j)))return j.v}return f}}]),a}(),J=new I;return J})},{}],4:[function(a,b,c){!function(a,d){"object"==typeof c&&"undefined"!=typeof b?b.exports=d():"function"==typeof define&&define.amd?define(d):(a.durruti=a.durruti||{},a.durruti.Store=d())}(this,function(){"use strict";function a(){return"undefined"!=typeof window}function b(a){return JSON.parse(JSON.stringify(a))}function c(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1],d=b(a);return Object.keys(c).forEach(function(a){"undefined"==typeof d[a]&&(d[a]=c[a])}),d}function d(a,b){b=b||{};var d=!1;e&&(d=!0),this.options=c(b,{history:d}),this.events={change:[]},this.data=[]}var e=a();return d.prototype.trigger=function(a){this.events[a]=this.events[a]||[];var b=this.events[a].slice();b.forEach(function(a){a()})},d.prototype.on=function(a,b){this.events[a]=this.events[a]||[],this.events[a].push(b)},d.prototype.off=function(a,b){this.events[a]=this.events[a]||[];var c=[].indexOf.call(this.events[a],b);c!==-1&&this.events[a].splice(c,1)},d.prototype.get=function(){var a=this.data[this.data.length-1];return a?b(a):null},d.prototype.list=function(){return b(this.data)},d.prototype.set=function(a){return this.options.history?this.data.push(a):this.data=[a],this.trigger("change"),this.get()},d})},{}],5:[function(a,b,c){!function(a,d){"object"==typeof c&&"undefined"!=typeof b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.Jotted=d()}(this,function(){"use strict";function a(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c={};return Object.keys(a).forEach(function(b){c[b]=a[b]}),Object.keys(b).forEach(function(d){"undefined"!=typeof c[d]?c[d]=a[d]:c[d]=b[d]}),c}function b(a,b){var c=new window.XMLHttpRequest;c.open("GET",a),c.responseType="text",c.onload=function(){200===c.status?b(null,c.responseText):b(a,c)},c.onerror=function(a){b(a)},c.send()}function c(a,b,c,e,f){return function(b,g){b&&e.push(b),a++,a<c.length?d(a,g,c,e,f):f(e,g)}}function d(a,b,d,e,f){d[a](b,c.apply(this,arguments))}function e(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},e=[];return a.length?void d(0,b,a,e,c):c(e,b)}function f(a,b){var c=null,d=null;return function(){var e=this,f=arguments;c?d=!0:a.apply(this,arguments),clearTimeout(c),c=setTimeout(function(){d&&a.apply(e,f),c=null,d=null},b)}}function g(a,b){if(!a.className)return!1;var c=" "+a.className+" ";return b=" "+b+" ",c.indexOf(b)!==-1}function h(a,b){return g(a,b)?a.className:(a.className&&(b=" "+b),a.className+=b,a.className)}function i(a,b){var c=" "+b,d=b+" ";return a.className.indexOf(c)!==-1?a.className=a.className.replace(c,""):a.className.indexOf(d)!==-1?a.className=a.className.replace(d,""):a.className=a.className.replace(b,""),a.className}function j(a,b){return a.getAttribute("data-"+b)}function k(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=a(d,B);for(var f in e){var g=f.length;if(c.slice(-g++)==="."+f)return e[f]}for(var h in e)if(b===h)return e[h];return b}function l(){return'\n    <ul class="jotted-nav">\n      <li class="jotted-nav-item jotted-nav-item-result">\n        <a href="#" data-jotted-type="result">\n          Result\n        </a>\n      </li>\n      <li class="jotted-nav-item jotted-nav-item-html">\n        <a href="#" data-jotted-type="html">\n          HTML\n        </a>\n      </li>\n      <li class="jotted-nav-item jotted-nav-item-css">\n        <a href="#" data-jotted-type="css">\n          CSS\n        </a>\n      </li>\n      <li class="jotted-nav-item jotted-nav-item-js">\n        <a href="#" data-jotted-type="js">\n          JavaScript\n        </a>\n      </li>\n    </ul>\n    <div class="jotted-pane jotted-pane-result"><iframe></iframe></div>\n    <div class="jotted-pane jotted-pane-html"></div>\n    <div class="jotted-pane jotted-pane-css"></div>\n    <div class="jotted-pane jotted-pane-js"></div>\n  '}function m(a){return"jotted-pane-active-"+a}function n(){return"jotted"}function o(a){return"jotted-has-"+a}function p(a){return"jotted-editor jotted-editor-"+a}function q(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'\n    <textarea data-jotted-type="'+a+'" data-jotted-file="'+b+'"></textarea>\n    <div class="jotted-status"></div>\n  '}function r(a){return"\n    <p>"+a+"</p>\n  "}function s(a){return"jotted-status-"+a}function t(a){return"jotted-status-active-"+a}function u(a){return"jotted-plugin-"+a}function v(a){return"Loading <strong>"+a+"</strong>.."}function w(a){return"There was an error loading <strong>"+a+"</strong>."}function x(a){for(var b in F){var c=F[b];if(c._id===a)return c}throw new Error("Plugin "+a+" is not registered.")}function y(a,b){b._id=a,F.push(b)}function z(){var a=this;this._get("options").plugins.forEach(function(b){var c=void 0,d=void 0,e={};"string"==typeof b?d=b:"object"===("undefined"==typeof b?"undefined":C(b))&&(d=b.name,e=b.options||{}),c=x(d),a._get("plugins")[b]=new c(a,e),h(a._get("$container"),u(d))})}function A(a){a.plugin("render",H),a.plugin("scriptless",I),a.plugin("ace",J),a.plugin("codemirror",K),a.plugin("less",L),a.plugin("coffeescript",M),a.plugin("stylus",N),a.plugin("babel",O),a.plugin("markdown",P),a.plugin("console",Q),a.plugin("play",R)}var B={html:"html",css:"css",js:"javascript",less:"less",styl:"stylus",coffee:"coffeescript"},C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},D=(function(){function a(a){this.value=a}function b(b){function c(a,b){return new Promise(function(c,e){var h={key:a,arg:b,resolve:c,reject:e,next:null};g?g=g.next=h:(f=g=h,d(a,b))})}function d(c,f){try{var g=b[c](f),h=g.value;h instanceof a?Promise.resolve(h.value).then(function(a){d("next",a)},function(a){d("throw",a)}):e(g.done?"return":"normal",g.value)}catch(a){e("throw",a)}}function e(a,b){switch(a){case"return":f.resolve({value:b,done:!0});break;case"throw":f.reject(b);break;default:f.resolve({value:b,done:!1})}f=f.next,f?d(f.key,f.arg):g=null}var f,g;this._invoke=c,"function"!=typeof b.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this}),b.prototype.next=function(a){return this._invoke("next",a)},b.prototype.throw=function(a){return this._invoke("throw",a)},b.prototype.return=function(a){return this._invoke("return",a)},{wrap:function(a){return function(){return new b(a.apply(this,arguments))}},await:function(b){return new a(b)}}}(),function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}),E=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),F=[],G=function(){function a(){D(this,a),this.topics={},this.callbacks={}}return E(a,[{key:"find",value:function(a){return this.topics[a]=this.topics[a]||[],this.topics[a]}},{key:"subscribe",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90,d=this.find(a);b._priority=c,d.push(b),d.sort(function(a,b){return a._priority>b._priority?1:b._priority>a._priority?-1:0})}},{key:"remover",value:function(a,b){a.forEach(function(){if(!b)return void(a.length=0);var c=[].indexOf.call(a,b);c!==-1&&a.splice(c,1)})}},{key:"unsubscribe",value:function(a,b){var c=this.find(a);this.remover(c,b),this.callbacks[a]=this.callbacks[a]||[],this.remover(this.callbacks[a],b)}},{key:"publish",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=this.find(a),d=[];c.forEach(function(a){d.push(a)}),e(d,b,this.runCallbacks(a))}},{key:"runCallbacks",value:function(a){var b=this;return function(c,d){b.callbacks[a]=b.callbacks[a]||[],b.callbacks[a].forEach(function(a){a(c,d)})}}},{key:"done",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.callbacks[a]=this.callbacks[a]||[],this.callbacks[a].push(b)}}]),a}(),H=function(){function b(c,d){D(this,b),d=a(d,{});var e=!!("srcdoc"in document.createElement("iframe")),f=c.$container.querySelector(".jotted-pane-result iframe"),g="",h={html:"",css:"",js:""};window.addEventListener("message",this.domready.bind(this)),c.on("change",this.change.bind(this),100),this.supportSrcdoc=e,this.content=h,this.frameContent=g,this.$resultFrame=f,this.callbacks=[],this.index=0,this.lastCallback=function(){}}return E(b,[{key:"template",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"\n      <!doctype html>\n      <html>\n        <head>\n          <script>\n            (function () {\n              window.addEventListener('DOMContentLoaded', function () {\n                window.parent.postMessage(JSON.stringify({\n                  type: 'jotted-dom-ready'\n                }), '*')\n              })\n            }())\n          </script>\n\n          <style>"+a+"</style>\n        </head>\n        <body>\n          "+b+"\n\n          <!--\n            Jotted:\n            Empty script tag prevents malformed HTML from breaking the next script.\n          -->\n          <script></script>\n          <script>"+c+"</script>\n        </body>\n      </html>\n    "}},{key:"change",value:function(a,b){var c=this;this.content[a.type]=a.content;var d=this.frameContent;if(this.frameContent=this.template(this.content.css,this.content.html,this.content.js),this.lastCallback=function(){c.lastCallback=function(){},b(null,a)},a.forceRender!==!0&&this.frameContent===d)return void b(null,a);if(this.supportSrcdoc){var e=document.createElement("iframe");this.$resultFrame.parentNode.replaceChild(e,this.$resultFrame),this.$resultFrame=e,this.$resultFrame.contentWindow.document.open(),this.$resultFrame.contentWindow.document.write(this.frameContent),this.$resultFrame.contentWindow.document.close()}else{this.$resultFrame.setAttribute("data-srcdoc",this.frameContent);var f='javascript:window.frameElement.getAttribute("data-srcdoc");';this.$resultFrame.setAttribute("src",f),this.$resultFrame.contentWindow&&(this.$resultFrame.contentWindow.location=f)}}},{key:"domready",value:function(a){if(a.source===this.$resultFrame.contentWindow){var b={};try{b=JSON.parse(a.data)}catch(a){}"jotted-dom-ready"===b.type&&this.lastCallback()}}}]),b}(),I=function(){function b(c,d){D(this,b),d=a(d,{});var e=["application/javascript","application/ecmascript","application/x-ecmascript","application/x-javascript","text/ecmascript","text/javascript","text/javascript1.0","text/javascript1.1","text/javascript1.2","text/javascript1.3","text/javascript1.4","text/javascript1.5","text/jscript","text/livescript","text/x-ecmascript","text/x-javascript"];c.on("change",this.change.bind(this)),this.runScriptTypes=e}return E(b,[{key:"change",value:function(a,b){if("html"!==a.type)return b(null,a);var c=document.createElement("div");c.innerHTML=a.content;for(var d=null,e=c.querySelectorAll("script"),f=0;f<e.length;f++)d=e[f].getAttribute("type"),d&&this.runScriptTypes.indexOf(d)===-1||e[f].parentNode.removeChild(e[f]);a.content=c.innerHTML,b(null,a)}}]),b}(),J=function(){function b(c,d){D(this,b);var e,f=1;if(this.editor={},this.jotted=c,d=a(d,{}),"undefined"!=typeof window.ace){var g=c.$container.querySelectorAll(".jotted-editor");for(e=0;e<g.length;e++){var h=g[e].querySelector("textarea"),i=j(h,"jotted-type"),l=j(h,"jotted-file"),m=document.createElement("div");g[e].appendChild(m),this.editor[i]=window.ace.edit(m);var n=this.editor[i],o=a(d);n.getSession().setMode("ace/mode/"+k(i,l)),n.getSession().setOptions(o),n.$blockScrolling=1/0}c.on("change",this.change.bind(this),f)}}return E(b,[{key:"editorChange",value:function(a){var b=this;return function(){b.jotted.trigger("change",a)}}},{key:"change",value:function(a,b){var c=this.editor[a.type];a.aceEditor||(c.getSession().setValue(a.content),a.aceEditor=c,c.on("change",this.editorChange(a))),a.content=c.getValue(),b(null,a)}}]),b}(),K=function(){function b(c,d){D(this,b);var e,f=1;this.editor={},this.jotted=c;var g={html:"htmlmixed"};if(d=a(d,{lineNumbers:!0}),"undefined"!=typeof window.CodeMirror){var h=c.$container.querySelectorAll(".jotted-editor");for(e=0;e<h.length;e++){var i=h[e].querySelector("textarea"),l=j(i,"jotted-type"),m=j(i,"jotted-file");this.editor[l]=window.CodeMirror.fromTextArea(i,d),this.editor[l].setOption("mode",k(l,m,g))}c.on("change",this.change.bind(this),f)}}return E(b,[{key:"editorChange",value:function(a){var b=this;return function(){b.jotted.trigger("change",a)}}},{key:"change",value:function(a,b){var c=this.editor[a.type];a.cmEditor||(c.setValue(a.content),a.cmEditor=c,c.on("change",this.editorChange(a))),a.content=c.getValue(),b(null,a)}}]),b}(),L=function(){function b(c,d){D(this,b);var e=20;d=a(d,{}),"undefined"!=typeof window.less&&(c.$container.querySelector('a[data-jotted-type="css"]').innerHTML="Less",c.on("change",this.change.bind(this),e))}return E(b,[{key:"isLess",value:function(a){return"css"===a.type&&(a.file.indexOf(".less")!==-1||""===a.file)}},{key:"change",value:function(a,b){this.isLess(a)?window.less.render(a.content,this.options,function(c,d){return c?b(c,a):(a.content=d.css,void b(null,a))}):b(null,a)}}]),b}(),M=function(){function b(c,d){D(this,b);var e=20;d=a(d,{}),"undefined"!=typeof window.CoffeeScript&&(c.$container.querySelector('a[data-jotted-type="js"]').innerHTML="CoffeeScript",c.on("change",this.change.bind(this),e))}return E(b,[{key:"isCoffee",value:function(a){return"js"===a.type&&(a.file.indexOf(".coffee")!==-1||""===a.file)}},{key:"change",value:function(a,b){if(this.isCoffee(a))try{a.content=window.CoffeeScript.compile(a.content)}catch(c){return b(c,a)}b(null,a)}}]),b}(),N=function(){function b(c,d){D(this,b);var e=20;d=a(d,{}),"undefined"!=typeof window.stylus&&(c.$container.querySelector('a[data-jotted-type="css"]').innerHTML="Stylus",c.on("change",this.change.bind(this),e))}return E(b,[{key:"isStylus",value:function(a){return"css"===a.type&&(a.file.indexOf(".styl")!==-1||""===a.file)}},{key:"change",value:function(a,b){this.isStylus(a)?window.stylus(a.content,this.options).render(function(c,d){return c?b(c,a):(a.content=d,void b(null,a))}):b(null,a)}}]),b}(),O=function(){function b(c,d){D(this,b);var e=20;if(this.options=a(d,{}),"undefined"!=typeof window.Babel)this.babel=window.Babel;else{if("undefined"==typeof window.babel)return;this.babel={transform:window.babel}}c.$container.querySelector('a[data-jotted-type="js"]').innerHTML="ES2015",c.on("change",this.change.bind(this),e)}return E(b,[{key:"change",value:function(a,b){if("js"===a.type){try{a.content=this.babel.transform(a.content,this.options).code}catch(c){return b(c,a)}b(null,a)}else b(null,a)}}]),b}(),P=function(){function b(c,d){D(this,b);var e=20;this.options=a(d,{}),"undefined"!=typeof window.marked&&(window.marked.setOptions(d),c.$container.querySelector('a[data-jotted-type="html"]').innerHTML="Markdown",c.on("change",this.change.bind(this),e))}return E(b,[{key:"change",value:function(a,b){if("html"===a.type){try{a.content=window.marked(a.content)}catch(c){return b(c,a)}b(null,a)}else b(null,a)}}]),b}(),Q=function(){function b(c,d){D(this,b),d=a(d,{autoClear:!1});var e=30,f=[],g=0,i="("+this.capture.toString()+")();",j={html:"",css:"",js:""},k=document.createElement("li");h(k,"jotted-nav-item jotted-nav-item-console"),k.innerHTML='<a href="#" data-jotted-type="console">JS Console</a>';var l=document.createElement("div");h(l,"jotted-pane jotted-pane-console"),l.innerHTML='\n      <div class="jotted-console-container">\n        <ul class="jotted-console-output"></ul>\n        <form class="jotted-console-input">\n          <input type="text">\n        </form>\n      </div>\n      <button class="jotted-button jotted-console-clear">Clear</button>\n    ',c.$container.appendChild(l),c.$container.querySelector(".jotted-nav").appendChild(k);var m=c.$container.querySelector(".jotted-console-container"),n=c.$container.querySelector(".jotted-console-output"),o=c.$container.querySelector(".jotted-console-input input"),p=c.$container.querySelector(".jotted-console-input"),q=c.$container.querySelector(".jotted-console-clear");p.addEventListener("submit",this.submit.bind(this)),o.addEventListener("keydown",this.history.bind(this)),q.addEventListener("click",this.clear.bind(this)),d.autoClear===!0&&c.on("change",this.autoClear.bind(this),e-1),c.on("change",this.change.bind(this),e),window.addEventListener("message",this.getMessage.bind(this)),this.$jottedContainer=c.$container,this.$container=m,this.$input=o,this.$output=n,this.history=f,this.historyIndex=g,this.logCaptureSnippet=i,this.contentCache=j,this.getIframe=this.getIframe.bind(this)}return E(b,[{key:"getIframe",value:function(){return this.$jottedContainer.querySelector(".jotted-pane-result iframe")}},{key:"getMessage",value:function(a){if(a.source===this.getIframe().contentWindow){var b={};try{b=JSON.parse(a.data)}catch(a){}"jotted-console-log"===b.type&&this.log(b.message)}}},{key:"autoClear",value:function(a,b){var c=a.content;"js"===a.type&&(c=c.replace(this.logCaptureSnippet,"")),a.forceRender!==!0&&this.contentCache[a.type]===c||this.clear(),this.contentCache[a.type]=c,b(null,a)}},{key:"change",value:function(a,b){return"js"!==a.type?b(null,a):(a.content.indexOf(this.logCaptureSnippet)===-1&&(a.content=""+this.logCaptureSnippet+a.content),void b(null,a))}},{key:"capture",value:function(){"undefined"!=typeof window.console&&"undefined"!=typeof window.console.log||(window.console={log:function(){}});var a=Function.prototype.bind.call(window.console.log,window.console);window.console.log=function(){[].slice.call(arguments).forEach(function(a){window.parent.postMessage(JSON.stringify({type:"jotted-console-log",message:a}),"*")}),a.apply(a,arguments)}}},{key:"log",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments[1],c=document.createElement("li");h(c,"jotted-console-log"),"undefined"!=typeof b&&h(c,"jotted-console-log-"+b),c.innerHTML=a,this.$output.appendChild(c)}},{key:"submit",value:function(a){var b=this.$input.value.trim();if(""===b)return a.preventDefault();this.history.push(b),this.historyIndex=this.history.length,this.log(b,"history"),0!==b.indexOf("return")&&(b="return "+b);try{var c=this.getIframe().contentWindow.eval("(function() {"+b+"})()");this.log(c)}catch(a){this.log(a,"error")}this.$input.value="",this.$container.scrollTop=this.$container.scrollHeight,a.preventDefault()}},{key:"clear",value:function(){this.$output.innerHTML=""}},{key:"history",value:function(a){var b=38,c=40,d=!1,e=this.$input.selectionStart;a.keyCode===b&&0!==this.historyIndex&&0===e&&(this.historyIndex--,d=!0),a.keyCode===c&&this.historyIndex!==this.history.length-1&&e===this.$input.value.length&&(this.historyIndex++,d=!0),d&&(this.$input.value=this.history[this.historyIndex])}}]),b}(),R=function(){function b(c,d){D(this,b),d=a(d,{firstRun:!0});var e=10,f={},g={};d.firstRun===!1&&(f={html:{type:"html",content:""},css:{type:"css",content:""},js:{type:"js",content:""}});var h=document.createElement("button");h.className="jotted-button jotted-button-play",h.innerHTML="Run",c.$container.appendChild(h),h.addEventListener("click",this.run.bind(this)),c.on("change",this.change.bind(this),e),this.cache=f,this.code=g,this.jotted=c}return E(b,[{key:"change",value:function(b,c){this.code[b.type]=a(b),"undefined"!=typeof this.cache[b.type]?(c(null,this.cache[b.type]),this.cache[b.type].forceRender=null):(this.cache[b.type]=a(b),c(null,b))}},{key:"run",value:function(){for(var b in this.code)this.cache[b]=a(this.code[b],{forceRender:!0}),this.jotted.trigger("change",this.cache[b])}}]),b}(),S=function(){function c(b,d){if(D(this,c),!b)throw new Error("Can't find Jotted container.");var e={};this._get=function(a){return e[a]},this._set=function(a,b){return e[a]=b,e[a]};var g=this._set("options",a(d,{files:[],showBlank:!1,runScripts:!0,pane:"result",debounce:250,plugins:[]}));g.plugins.push("render"),g.runScripts===!1&&g.plugins.push("scriptless"),this._set("cachedContent",{html:null,css:null,js:null});var i=this._set("pubsoup",new G);this._set("trigger",this.trigger()),this._set("on",function(){i.subscribe.apply(i,arguments)}),this._set("off",function(){i.unsubscribe.apply(i,arguments)});var j=this._set("done",function(){i.done.apply(i,arguments)});j("change",this.errors.bind(this));var k=this._set("$container",b);k.innerHTML=l(),h(k,n());var p=this._set("paneActive",g.pane);h(k,m(p)),this._set("$status",{});for(var q=["html","css","js"],r=0;r<q.length;r++){var s=q[r];this.markup(s)}k.addEventListener("keyup",f(this.change.bind(this),g.debounce)),k.addEventListener("change",f(this.change.bind(this),g.debounce)),k.addEventListener("click",this.pane.bind(this)),this.$container=this._get("$container"),this.on=this._get("on"),this.off=this._get("off"),this.done=this._get("done"),this.trigger=this._get("trigger"),this.paneActive=this._get("paneActive"),this._set("plugins",{}),z.call(this);for(var t=["html","css","js"],u=0;u<t.length;u++){var v=t[u];this.load(v)}if(g.showBlank)for(var w=["html","css","js"],x=0;x<w.length;x++){var y=w[x];h(k,o(y))}}return E(c,[{key:"findFile",value:function(a){var b={},c=this._get("options");for(var d in c.files){var e=c.files[d];if(e.type===a)return e}return b}},{key:"markup",value:function(a){var b=this._get("$container"),c=b.querySelector(".jotted-pane-"+a),d=this.findFile(a),e=document.createElement("div");e.innerHTML=q(a,d.url),e.className=p(a),c.appendChild(e),this._get("$status")[a]=c.querySelector(".jotted-status"),"undefined"==typeof d.url&&"undefined"==typeof d.content||h(b,o(a))}},{key:"load",value:function(a){var c=this,d=this.findFile(a),e=this._get("$container").querySelector(".jotted-pane-"+a+" textarea");"undefined"!=typeof d.content?this.setValue(e,d.content):"undefined"!=typeof d.url?(this.status("loading",[v(d.url)],{type:a,file:d}),b(d.url,function(b,d){return b?void c.status("error",[w(b)],{type:a}):(c.clearStatus("loading",{type:a}),void c.setValue(e,d))})):this.setValue(e,"")}},{key:"setValue",value:function(a,b){a.value=b,this.change({target:a})}},{key:"change",value:function(a){var b=j(a.target,"jotted-type");if(b){var c=this._get("cachedContent");c[b]!==a.target.value&&(c[b]=a.target.value,this.trigger("change",{type:b,file:j(a.target,"jotted-file"),content:c[b]}))}}},{key:"errors",value:function(a,b){this.status("error",a,b)}},{key:"pane",value:function(a){if(j(a.target,"jotted-type")){var b=this._get("$container"),c=this._get("paneActive");i(b,m(c)),c=this._set("paneActive",j(a.target,"jotted-type")),h(b,m(c)),a.preventDefault()}}},{key:"status",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!b.length)return this.clearStatus(a,c);var d=this._get("$status");h(d[c.type],s(a)),h(this._get("$container"),t(c.type));var e="";b.forEach(function(a){e+=r(a)}),d[c.type].innerHTML=e}},{key:"clearStatus",value:function(a,b){var c=this._get("$status");i(c[b.type],s(a)),i(this._get("$container"),t(b.type)),c[b.type].innerHTML=""}},{key:"trigger",value:function(){var a=this._get("options"),b=this._get("pubsoup");if(a.debounce===!1)return function(){b.publish.apply(b,arguments)};var c={},d={};return function(e){var f=arguments,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=g.type,i=void 0===h?"default":h;c[i]?d[i]=!0:b.publish.apply(b,arguments),clearTimeout(c[i]),c[i]=setTimeout(function(){d[i]&&b.publish.apply(b,f),d[i]=null,c[i]=null},a.debounce)}}}]),c}();return S.plugin=function(){return y.apply(this,arguments)},A(S),S})},{}],6:[function(a,b,c){var d=function(){function a(a,b){if(!e[a]){e[a]={};for(var c=0;c<a.length;c++)e[a][a.charAt(c)]=c}return e[a][b]}var b=String.fromCharCode,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={},f={compressToBase64:function(a){if(null==a)return"";var b=f._compress(a,6,function(a){return c.charAt(a)});switch(b.length%4){default:case 0:return b;case 1:return b+"===";case 2:return b+"==";case 3:return b+"="}},decompressFromBase64:function(b){return null==b?"":""==b?null:f._decompress(b.length,32,function(d){return a(c,b.charAt(d))})},compressToUTF16:function(a){return null==a?"":f._compress(a,15,function(a){return b(a+32)})+" "},decompressFromUTF16:function(a){return null==a?"":""==a?null:f._decompress(a.length,16384,function(b){return a.charCodeAt(b)-32})},compressToUint8Array:function(a){for(var b=f.compress(a),c=new Uint8Array(2*b.length),d=0,e=b.length;d<e;d++){var g=b.charCodeAt(d);c[2*d]=g>>>8,c[2*d+1]=g%256}return c},decompressFromUint8Array:function(a){if(null===a||void 0===a)return f.decompress(a);for(var c=new Array(a.length/2),d=0,e=c.length;d<e;d++)c[d]=256*a[2*d]+a[2*d+1];var g=[];return c.forEach(function(a){g.push(b(a))}),f.decompress(g.join(""))},compressToEncodedURIComponent:function(a){return null==a?"":f._compress(a,6,function(a){return d.charAt(a)})},decompressFromEncodedURIComponent:function(b){return null==b?"":""==b?null:(b=b.replace(/ /g,"+"),f._decompress(b.length,32,function(c){
return a(d,b.charAt(c))}))},compress:function(a){return f._compress(a,16,function(a){return b(a)})},_compress:function(a,b,c){if(null==a)return"";var d,e,f,g={},h={},i="",j="",k="",l=2,m=3,n=2,o=[],p=0,q=0;for(f=0;f<a.length;f+=1)if(i=a.charAt(f),Object.prototype.hasOwnProperty.call(g,i)||(g[i]=m++,h[i]=!0),j=k+i,Object.prototype.hasOwnProperty.call(g,j))k=j;else{if(Object.prototype.hasOwnProperty.call(h,k)){if(k.charCodeAt(0)<256){for(d=0;d<n;d++)p<<=1,q==b-1?(q=0,o.push(c(p)),p=0):q++;for(e=k.charCodeAt(0),d=0;d<8;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}else{for(e=1,d=0;d<n;d++)p=p<<1|e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e=0;for(e=k.charCodeAt(0),d=0;d<16;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}l--,0==l&&(l=Math.pow(2,n),n++),delete h[k]}else for(e=g[k],d=0;d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;l--,0==l&&(l=Math.pow(2,n),n++),g[j]=m++,k=String(i)}if(""!==k){if(Object.prototype.hasOwnProperty.call(h,k)){if(k.charCodeAt(0)<256){for(d=0;d<n;d++)p<<=1,q==b-1?(q=0,o.push(c(p)),p=0):q++;for(e=k.charCodeAt(0),d=0;d<8;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}else{for(e=1,d=0;d<n;d++)p=p<<1|e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e=0;for(e=k.charCodeAt(0),d=0;d<16;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}l--,0==l&&(l=Math.pow(2,n),n++),delete h[k]}else for(e=g[k],d=0;d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;l--,0==l&&(l=Math.pow(2,n),n++)}for(e=2,d=0;d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;for(;;){if(p<<=1,q==b-1){o.push(c(p));break}q++}return o.join("")},decompress:function(a){return null==a?"":""==a?null:f._decompress(a.length,32768,function(b){return a.charCodeAt(b)})},_decompress:function(a,c,d){var e,f,g,h,i,j,k,l,m=[],n=4,o=4,p=3,q="",r=[],s={val:d(0),position:c,index:1};for(f=0;f<3;f+=1)m[f]=f;for(h=0,j=Math.pow(2,2),k=1;k!=j;)i=s.val&s.position,s.position>>=1,0==s.position&&(s.position=c,s.val=d(s.index++)),h|=(i>0?1:0)*k,k<<=1;switch(e=h){case 0:for(h=0,j=Math.pow(2,8),k=1;k!=j;)i=s.val&s.position,s.position>>=1,0==s.position&&(s.position=c,s.val=d(s.index++)),h|=(i>0?1:0)*k,k<<=1;l=b(h);break;case 1:for(h=0,j=Math.pow(2,16),k=1;k!=j;)i=s.val&s.position,s.position>>=1,0==s.position&&(s.position=c,s.val=d(s.index++)),h|=(i>0?1:0)*k,k<<=1;l=b(h);break;case 2:return""}for(m[3]=l,g=l,r.push(l);;){if(s.index>a)return"";for(h=0,j=Math.pow(2,p),k=1;k!=j;)i=s.val&s.position,s.position>>=1,0==s.position&&(s.position=c,s.val=d(s.index++)),h|=(i>0?1:0)*k,k<<=1;switch(l=h){case 0:for(h=0,j=Math.pow(2,8),k=1;k!=j;)i=s.val&s.position,s.position>>=1,0==s.position&&(s.position=c,s.val=d(s.index++)),h|=(i>0?1:0)*k,k<<=1;m[o++]=b(h),l=o-1,n--;break;case 1:for(h=0,j=Math.pow(2,16),k=1;k!=j;)i=s.val&s.position,s.position>>=1,0==s.position&&(s.position=c,s.val=d(s.index++)),h|=(i>0?1:0)*k,k<<=1;m[o++]=b(h),l=o-1,n--;break;case 2:return r.join("")}if(0==n&&(n=Math.pow(2,p),p++),m[l])q=m[l];else{if(l!==o)return null;q=g+g.charAt(0)}r.push(q),m[o++]=g+q.charAt(0),n--,g=q,0==n&&(n=Math.pow(2,p),p++)}}};return f}();"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof b&&null!=b&&(b.exports=d)},{}],7:[function(a,b,c){function d(a,b,c,d,g){var h=[].slice.call(arguments,1),i=h.length,j="function"==typeof h[i-1];if(!j&&!e())throw new Error("Callback required as last argument");if(!j){if(i<1)throw new Error("Too few arguments provided");return 1===i?(c=b,b=d=void 0):2!==i||b.getContext||(d=c,c=b,b=void 0),new Promise(function(e,g){try{var h=f.create(c,d);e(a(h,b,d))}catch(a){g(a)}})}if(i<2)throw new Error("Too few arguments provided");2===i?(g=c,c=b,b=d=void 0):3===i&&(b.getContext&&"undefined"==typeof g?(g=d,d=void 0):(g=d,d=c,c=b,b=void 0));try{var k=f.create(c,d);g(null,a(k,b,d))}catch(a){g(a)}}var e=a("can-promise"),f=a("./core/qrcode"),g=a("./renderer/canvas"),h=a("./renderer/svg-tag.js");c.create=f.create,c.toCanvas=d.bind(null,g.render),c.toDataURL=d.bind(null,g.renderToDataURL),c.toString=d.bind(null,function(a,b,c){return h.render(a,c)})},{"./core/qrcode":23,"./renderer/canvas":29,"./renderer/svg-tag.js":30,"can-promise":1}],8:[function(a,b,c){var d=a("./utils").getSymbolSize;c.getRowColCoords=function(a){if(1===a)return[];for(var b=Math.floor(a/7)+2,c=d(a),e=145===c?26:2*Math.ceil((c-13)/(2*b-2)),f=[c-7],g=1;g<b-1;g++)f[g]=f[g-1]-e;return f.push(6),f.reverse()},c.getPositions=function(a){for(var b=[],d=c.getRowColCoords(a),e=d.length,f=0;f<e;f++)for(var g=0;g<e;g++)0===f&&0===g||0===f&&g===e-1||f===e-1&&0===g||b.push([d[f],d[g]]);return b}},{"./utils":27}],9:[function(a,b,c){function d(a){this.mode=e.ALPHANUMERIC,this.data=a}var e=a("./mode"),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];d.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(a){var b;for(b=0;b+2<=this.data.length;b+=2){var c=45*f.indexOf(this.data[b]);c+=f.indexOf(this.data[b+1]),a.put(c,11)}this.data.length%2&&a.put(f.indexOf(this.data[b]),6)},b.exports=d},{"./mode":20}],10:[function(a,b,c){function d(){this.buffer=[],this.length=0}d.prototype={get:function(a){var b=Math.floor(a/8);return 1===(this.buffer[b]>>>7-a%8&1)},put:function(a,b){for(var c=0;c<b;c++)this.putBit(1===(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}},b.exports=d},{}],11:[function(a,b,c){function d(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new e(a*a),this.data.fill(0),this.reservedBit=new e(a*a),this.reservedBit.fill(0)}var e=a("../utils/buffer");d.prototype.set=function(a,b,c,d){var e=a*this.size+b;this.data[e]=c,d&&(this.reservedBit[e]=!0)},d.prototype.get=function(a,b){return this.data[a*this.size+b]},d.prototype.xor=function(a,b,c){this.data[a*this.size+b]^=c},d.prototype.isReserved=function(a,b){return this.reservedBit[a*this.size+b]},b.exports=d},{"../utils/buffer":32}],12:[function(a,b,c){function d(a){this.mode=f.BYTE,this.data=new e(a)}var e=a("../utils/buffer"),f=a("./mode");d.getBitsLength=function(a){return 8*a},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(a){for(var b=0,c=this.data.length;b<c;b++)a.put(this.data[b],8)},b.exports=d},{"../utils/buffer":32,"./mode":20}],13:[function(a,b,c){var d=a("./error-correction-level"),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],f=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];c.getBlocksCount=function(a,b){switch(b){case d.L:return e[4*(a-1)+0];case d.M:return e[4*(a-1)+1];case d.Q:return e[4*(a-1)+2];case d.H:return e[4*(a-1)+3];default:return}},c.getTotalCodewordsCount=function(a,b){switch(b){case d.L:return f[4*(a-1)+0];case d.M:return f[4*(a-1)+1];case d.Q:return f[4*(a-1)+2];case d.H:return f[4*(a-1)+3];default:return}}},{"./error-correction-level":14}],14:[function(a,b,c){function d(a){if("string"!=typeof a)throw new Error("Param is not a string");var b=a.toLowerCase();switch(b){case"l":case"low":return c.L;case"m":case"medium":return c.M;case"q":case"quartile":return c.Q;case"h":case"high":return c.H;default:throw new Error("Unknown EC Level: "+a)}}c.L={bit:1},c.M={bit:0},c.Q={bit:3},c.H={bit:2},c.isValid=function(a){return a&&"undefined"!=typeof a.bit&&a.bit>=0&&a.bit<4},c.from=function(a,b){if(c.isValid(a))return a;try{return d(a)}catch(a){return b}}},{}],15:[function(a,b,c){var d=a("./utils").getSymbolSize,e=7;c.getPositions=function(a){var b=d(a);return[[0,0],[b-e,0],[0,b-e]]}},{"./utils":27}],16:[function(a,b,c){var d=a("./utils"),e=1335,f=21522,g=d.getBCHDigit(e);c.getEncodedBits=function(a,b){for(var c=a.bit<<3|b,h=c<<10;d.getBCHDigit(h)-g>=0;)h^=e<<d.getBCHDigit(h)-g;return(c<<10|h)^f}},{"./utils":27}],17:[function(a,b,c){var d=a("../utils/buffer"),e=new d(512),f=new d(256);!function(){for(var a=1,b=0;b<255;b++)e[b]=a,f[a]=b,a<<=1,256&a&&(a^=285);for(b=255;b<512;b++)e[b]=e[b-255]}(),c.log=function(a){if(a<1)throw new Error("log("+a+")");return f[a]},c.exp=function(a){return e[a]},c.mul=function(a,b){return 0===a||0===b?0:e[f[a]+f[b]]}},{"../utils/buffer":32}],18:[function(a,b,c){function d(a){this.mode=e.KANJI,this.data=a}var e=a("./mode"),f=a("./utils");d.getBitsLength=function(a){return 13*a},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(a){var b;for(b=0;b<this.data.length;b++){var c=f.toSJIS(this.data[b]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[b]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),a.put(c,13)}},b.exports=d},{"./mode":20,"./utils":27}],19:[function(a,b,c){function d(a,b,d){switch(a){case c.Patterns.PATTERN000:return(b+d)%2===0;case c.Patterns.PATTERN001:return b%2===0;case c.Patterns.PATTERN010:return d%3===0;case c.Patterns.PATTERN011:return(b+d)%3===0;case c.Patterns.PATTERN100:return(Math.floor(b/2)+Math.floor(d/3))%2===0;case c.Patterns.PATTERN101:return b*d%2+b*d%3===0;case c.Patterns.PATTERN110:return(b*d%2+b*d%3)%2===0;case c.Patterns.PATTERN111:return(b*d%3+(b+d)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}c.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};c.isValid=function(a){return a&&""!==a&&!isNaN(a)&&a>=0&&a<=7},c.from=function(a){return c.isValid(a)?parseInt(a,10):void 0},c.getPenaltyN1=function(a){for(var b=a.size,c=0,d=0,f=0,g=null,h=null,i=0;i<b;i++){d=f=0,g=h=null;for(var j=0;j<b;j++){var k=a.get(i,j);k===g?d++:(d>=5&&(c+=e.N1+(d-5)),g=k,d=1),k=a.get(j,i),k===h?f++:(f>=5&&(c+=e.N1+(f-5)),h=k,f=1)}d>=5&&(c+=e.N1+(d-5)),f>=5&&(c+=e.N1+(f-5))}return c},c.getPenaltyN2=function(a){for(var b=a.size,c=0,d=0;d<b-1;d++)for(var f=0;f<b-1;f++){var g=a.get(d,f)+a.get(d,f+1)+a.get(d+1,f)+a.get(d+1,f+1);4!==g&&0!==g||c++}return c*e.N2},c.getPenaltyN3=function(a){for(var b=a.size,c=0,d=0,f=0,g=0;g<b;g++){d=f=0;for(var h=0;h<b;h++)d=d<<1&2047|a.get(g,h),h>=10&&(1488===d||93===d)&&c++,f=f<<1&2047|a.get(h,g),h>=10&&(1488===f||93===f)&&c++}return c*e.N3},c.getPenaltyN4=function(a){for(var b=0,c=a.data.length,d=0;d<c;d++)b+=a.data[d];var f=Math.abs(Math.ceil(100*b/c/5)-10);return f*e.N4},c.applyMask=function(a,b){for(var c=b.size,e=0;e<c;e++)for(var f=0;f<c;f++)b.isReserved(f,e)||b.xor(f,e,d(a,f,e))},c.getBestMask=function(a,b){for(var d=Object.keys(c.Patterns).length,e=0,f=1/0,g=0;g<d;g++){b(g),c.applyMask(g,a);var h=c.getPenaltyN1(a)+c.getPenaltyN2(a)+c.getPenaltyN3(a)+c.getPenaltyN4(a);c.applyMask(g,a),h<f&&(f=h,e=g)}return e}},{}],20:[function(a,b,c){function d(a){if("string"!=typeof a)throw new Error("Param is not a string");var b=a.toLowerCase();switch(b){case"numeric":return c.NUMERIC;case"alphanumeric":return c.ALPHANUMERIC;case"kanji":return c.KANJI;case"byte":return c.BYTE;default:throw new Error("Unknown mode: "+a)}}var e=a("./version"),f=a("./regex");c.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},c.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},c.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},c.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},c.MIXED={bit:-1},c.getCharCountIndicator=function(a,b){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(b))throw new Error("Invalid version: "+b);return b>=1&&b<10?a.ccBits[0]:b<27?a.ccBits[1]:a.ccBits[2]},c.getBestModeForData=function(a){return f.testNumeric(a)?c.NUMERIC:f.testAlphanumeric(a)?c.ALPHANUMERIC:f.testKanji(a)?c.KANJI:c.BYTE},c.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},c.isValid=function(a){return a&&a.bit&&a.ccBits},c.from=function(a,b){if(c.isValid(a))return a;try{return d(a)}catch(a){return b}}},{"./regex":25,"./version":28}],21:[function(a,b,c){function d(a){this.mode=e.NUMERIC,this.data=a.toString()}var e=a("./mode");d.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(a){var b,c,d;for(b=0;b+3<=this.data.length;b+=3)c=this.data.substr(b,3),d=parseInt(c,10),a.put(d,10);var e=this.data.length-b;e>0&&(c=this.data.substr(b),d=parseInt(c,10),a.put(d,3*e+1))},b.exports=d},{"./mode":20}],22:[function(a,b,c){var d=a("../utils/buffer"),e=a("./galois-field");c.mul=function(a,b){var c=new d(a.length+b.length-1);c.fill(0);for(var f=0;f<a.length;f++)for(var g=0;g<b.length;g++)c[f+g]^=e.mul(a[f],b[g]);return c},c.mod=function(a,b){for(var c=new d(a);c.length-b.length>=0;){for(var f=c[0],g=0;g<b.length;g++)c[g]^=e.mul(b[g],f);for(var h=0;h<c.length&&0===c[h];)h++;c=c.slice(h)}return c},c.generateECPolynomial=function(a){for(var b=new d([1]),f=0;f<a;f++)b=c.mul(b,[1,e.exp(f)]);return b}},{"../utils/buffer":32,"./galois-field":17}],23:[function(a,b,c){function d(a,b){for(var c=a.size,d=s.getPositions(b),e=0;e<d.length;e++)for(var f=d[e][0],g=d[e][1],h=-1;h<=7;h++)if(!(f+h<=-1||c<=f+h))for(var i=-1;i<=7;i++)g+i<=-1||c<=g+i||(h>=0&&h<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===h||6===h)||h>=2&&h<=4&&i>=2&&i<=4?a.set(f+h,g+i,!0,!0):a.set(f+h,g+i,!1,!0))}function e(a){for(var b=a.size,c=8;c<b-8;c++){var d=c%2===0;a.set(c,6,d,!0),a.set(6,c,d,!0)}}function f(a,b){for(var c=r.getPositions(b),d=0;d<c.length;d++)for(var e=c[d][0],f=c[d][1],g=-2;g<=2;g++)for(var h=-2;h<=2;h++)g===-2||2===g||h===-2||2===h||0===g&&0===h?a.set(e+g,f+h,!0,!0):a.set(e+g,f+h,!1,!0)}function g(a,b){for(var c,d,e,f=a.size,g=w.getEncodedBits(b),h=0;h<18;h++)c=Math.floor(h/3),d=h%3+f-8-3,e=1===(g>>h&1),a.set(c,d,e,!0),a.set(d,c,e,!0)}function h(a,b,c){var d,e,f=a.size,g=x.getEncodedBits(b,c);for(d=0;d<15;d++)e=1===(g>>d&1),d<6?a.set(d,8,e,!0):d<8?a.set(d+1,8,e,!0):a.set(f-15+d,8,e,!0),d<8?a.set(8,f-d-1,e,!0):d<9?a.set(8,15-d-1+1,e,!0):a.set(8,15-d-1,e,!0);a.set(f-8,8,1,!0)}function i(a,b){for(var c=a.size,d=-1,e=c-1,f=7,g=0,h=c-1;h>0;h-=2)for(6===h&&h--;;){for(var i=0;i<2;i++)if(!a.isReserved(e,h-i)){var j=!1;g<b.length&&(j=1===(b[g]>>>f&1)),a.set(e,h-i,j),f--,f===-1&&(g++,f=7)}if(e+=d,e<0||c<=e){e-=d,d=-d;break}}}function j(a,b,c){var d=new p;c.forEach(function(b){d.put(b.mode.bit,4),d.put(b.getLength(),y.getCharCountIndicator(b.mode,a)),b.write(d)});var e=n.getSymbolTotalCodewords(a),f=u.getTotalCodewordsCount(a,b),g=8*(e-f);for(d.getLengthInBits()+4<=g&&d.put(0,4);d.getLengthInBits()%8!==0;)d.putBit(0);for(var h=(g-d.getLengthInBits())/8,i=0;i<h;i++)d.put(i%2?17:236,8);return k(d,a,b)}function k(a,b,c){for(var d=n.getSymbolTotalCodewords(b),e=u.getTotalCodewordsCount(b,c),f=d-e,g=u.getBlocksCount(b,c),h=d%g,i=g-h,j=Math.floor(d/g),k=Math.floor(f/g),l=k+1,o=j-k,p=new v(o),q=0,r=new Array(g),s=new Array(g),t=0,w=new m(a.buffer),x=0;x<g;x++){var y=x<i?k:l;r[x]=w.slice(q,q+y),s[x]=p.encode(r[x]),q+=y,t=Math.max(t,y)}var z,A,B=new m(d),C=0;for(z=0;z<t;z++)for(A=0;A<g;A++)z<r[A].length&&(B[C++]=r[A][z]);for(z=0;z<o;z++)for(A=0;A<g;A++)B[C++]=s[A][z];return B}function l(a,b,c,k){var l;if(A(a))l=z.fromArray(a);else{if("string"!=typeof a)throw new Error("Invalid data");var m=b;if(!m){var o=z.rawSplit(a);m=w.getBestVersionForData(o,c)}l=z.fromString(a,m||40)}var p=w.getBestVersionForData(l,c);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(b){if(b<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else b=p;var r=j(b,c,l),s=n.getSymbolSize(b),u=new q(s);return d(u,b),e(u),f(u,b),h(u,c,0),b>=7&&g(u,b),i(u,r),k||(k=t.getBestMask(u,h.bind(null,u,c))),t.applyMask(k,u),h(u,c,k),{modules:u,version:b,errorCorrectionLevel:c,maskPattern:k,segments:l}}var m=a("../utils/buffer"),n=a("./utils"),o=a("./error-correction-level"),p=a("./bit-buffer"),q=a("./bit-matrix"),r=a("./alignment-pattern"),s=a("./finder-pattern"),t=a("./mask-pattern"),u=a("./error-correction-code"),v=a("./reed-solomon-encoder"),w=a("./version"),x=a("./format-info"),y=a("./mode"),z=a("./segments"),A=a("isarray");c.create=function(a,b){if("undefined"==typeof a||""===a)throw new Error("No input text");var c,d,e=o.M;return"undefined"!=typeof b&&(e=o.from(b.errorCorrectionLevel,o.M),c=w.from(b.version),d=t.from(b.maskPattern),b.toSJISFunc&&n.setToSJISFunction(b.toSJISFunc)),l(a,c,e,d)}},{"../utils/buffer":32,"./alignment-pattern":8,"./bit-buffer":10,"./bit-matrix":11,"./error-correction-code":13,"./error-correction-level":14,"./finder-pattern":15,"./format-info":16,"./mask-pattern":19,"./mode":20,"./reed-solomon-encoder":24,"./segments":26,"./utils":27,"./version":28,isarray:33}],24:[function(a,b,c){function d(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}var e=a("../utils/buffer"),f=a("./polynomial");d.prototype.initialize=function(a){this.degree=a,this.genPoly=f.generateECPolynomial(this.degree)},d.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");var b=new e(this.degree);b.fill(0);var c=e.concat([a,b],a.length+this.degree),d=f.mod(c,this.genPoly),g=this.degree-d.length;if(g>0){var h=new e(this.degree);return h.fill(0),d.copy(h,g),h}return d},b.exports=d},{"../utils/buffer":32,"./polynomial":22}],25:[function(a,b,c){var d="[0-9]+",e="[A-Z $%*+\\-./:]+",f="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";f=f.replace(/u/g,"\\u");var g="(?:(?![A-Z0-9 $%*+\\-./:]|"+f+").)+";c.KANJI=new RegExp(f,"g"),c.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),c.BYTE=new RegExp(g,"g"),c.NUMERIC=new RegExp(d,"g"),c.ALPHANUMERIC=new RegExp(e,"g");var h=new RegExp("^"+f+"$"),i=new RegExp("^"+d+"$"),j=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");c.testKanji=function(a){return h.test(a)},c.testNumeric=function(a){return i.test(a)},c.testAlphanumeric=function(a){return j.test(a)}},{}],26:[function(a,b,c){function d(a){return unescape(encodeURIComponent(a)).length}function e(a,b,c){for(var d,e=[];null!==(d=a.exec(c));)e.push({data:d[0],index:d.index,mode:b,length:d[0].length});return e}function f(a){var b,c,d=e(q.NUMERIC,l.NUMERIC,a),f=e(q.ALPHANUMERIC,l.ALPHANUMERIC,a);r.isKanjiModeEnabled()?(b=e(q.BYTE,l.BYTE,a),c=e(q.KANJI,l.KANJI,a)):(b=e(q.BYTE_KANJI,l.BYTE,a),c=[]);var g=d.concat(f,b,c);return g.sort(function(a,b){return a.index-b.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function g(a,b){switch(b){case l.NUMERIC:return m.getBitsLength(a);case l.ALPHANUMERIC:return n.getBitsLength(a);case l.KANJI:return p.getBitsLength(a);case l.BYTE:return o.getBitsLength(a)}}function h(a){return a.reduce(function(a,b){var c=a.length-1>=0?a[a.length-1]:null;return c&&c.mode===b.mode?(a[a.length-1].data+=b.data,a):(a.push(b),a)},[])}function i(a){for(var b=[],c=0;c<a.length;c++){var e=a[c];switch(e.mode){case l.NUMERIC:b.push([e,{data:e.data,mode:l.ALPHANUMERIC,length:e.length},{data:e.data,mode:l.BYTE,length:e.length}]);break;case l.ALPHANUMERIC:b.push([e,{data:e.data,mode:l.BYTE,length:e.length}]);break;case l.KANJI:b.push([e,{data:e.data,mode:l.BYTE,length:d(e.data)}]);break;case l.BYTE:b.push([{data:e.data,mode:l.BYTE,length:d(e.data)}])}}return b}function j(a,b){for(var c={},d={start:{}},e=["start"],f=0;f<a.length;f++){for(var h=a[f],i=[],j=0;j<h.length;j++){var k=h[j],m=""+f+j;i.push(m),c[m]={node:k,lastCount:0},d[m]={};for(var n=0;n<e.length;n++){var o=e[n];c[o]&&c[o].node.mode===k.mode?(d[o][m]=g(c[o].lastCount+k.length,k.mode)-g(c[o].lastCount,k.mode),c[o].lastCount+=k.length):(c[o]&&(c[o].lastCount=k.length),d[o][m]=g(k.length,k.mode)+4+l.getCharCountIndicator(k.mode,b))}}e=i}for(n=0;n<e.length;n++)d[e[n]].end=0;return{map:d,table:c}}function k(a,b){var c,d=l.getBestModeForData(a);if(c=l.from(b,d),c!==l.BYTE&&c.bit<d.bit)throw new Error('"'+a+'" cannot be encoded with mode '+l.toString(c)+".\n Suggested mode is: "+l.toString(d));switch(c!==l.KANJI||r.isKanjiModeEnabled()||(c=l.BYTE),c){case l.NUMERIC:return new m(a);case l.ALPHANUMERIC:return new n(a);case l.KANJI:return new p(a);case l.BYTE:return new o(a)}}var l=a("./mode"),m=a("./numeric-data"),n=a("./alphanumeric-data"),o=a("./byte-data"),p=a("./kanji-data"),q=a("./regex"),r=a("./utils"),s=a("dijkstrajs");c.fromArray=function(a){return a.reduce(function(a,b){return"string"==typeof b?a.push(k(b,null)):b.data&&a.push(k(b.data,b.mode)),a},[])},c.fromString=function(a,b){for(var d=f(a,r.isKanjiModeEnabled()),e=i(d),g=j(e,b),k=s.find_path(g.map,"start","end"),l=[],m=1;m<k.length-1;m++)l.push(g.table[k[m]].node);return c.fromArray(h(l))},c.rawSplit=function(a){return c.fromArray(f(a,r.isKanjiModeEnabled()))}},{"./alphanumeric-data":9,"./byte-data":12,"./kanji-data":18,"./mode":20,"./numeric-data":21,"./regex":25,"./utils":27,dijkstrajs:2}],27:[function(a,b,c){var d,e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];c.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return 4*a+17},c.getSymbolTotalCodewords=function(a){return e[a]},c.getBCHDigit=function(a){for(var b=0;0!==a;)b++,a>>>=1;return b},c.setToSJISFunction=function(a){if("function"!=typeof a)throw new Error('"toSJISFunc" is not a valid function.');d=a},c.isKanjiModeEnabled=function(){return"undefined"!=typeof d},c.toSJIS=function(a){return d(a)}},{}],28:[function(a,b,c){function d(a,b,d){for(var e=1;e<=40;e++)if(b<=c.getCapacity(e,d,a))return e}function e(a,b){return k.getCharCountIndicator(a,b)+4}function f(a,b){var c=0;return a.forEach(function(a){var d=e(a.mode,b);c+=d+a.getBitsLength()}),c}function g(a,b){for(var d=1;d<=40;d++){var e=f(a,d);if(e<=c.getCapacity(d,b,k.MIXED))return d}}var h=a("./utils"),i=a("./error-correction-code"),j=a("./error-correction-level"),k=a("./mode"),l=a("isarray"),m=7973,n=h.getBCHDigit(m);c.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40},c.from=function(a,b){return c.isValid(a)?parseInt(a,10):b},c.getCapacity=function(a,b,d){if(!c.isValid(a))throw new Error("Invalid QR Code version");"undefined"==typeof d&&(d=k.BYTE);var f=h.getSymbolTotalCodewords(a),g=i.getTotalCodewordsCount(a,b),j=8*(f-g);if(d===k.MIXED)return j;var l=j-e(d,a);switch(d){case k.NUMERIC:return Math.floor(l/10*3);case k.ALPHANUMERIC:return Math.floor(l/11*2);case k.KANJI:return Math.floor(l/13);case k.BYTE:default:return Math.floor(l/8)}},c.getBestVersionForData=function(a,b){var c,e=j.from(b,j.M);if(l(a)){if(a.length>1)return g(a,e);if(0===a.length)return 1;c=a[0]}else c=a;return d(c.mode,c.getLength(),e)},c.getEncodedBits=function(a){if(!c.isValid(a)||a<7)throw new Error("Invalid QR Code version");for(var b=a<<12;h.getBCHDigit(b)-n>=0;)b^=m<<h.getBCHDigit(b)-n;return a<<12|b}},{"./error-correction-code":13,"./error-correction-level":14,"./mode":20,"./utils":27,isarray:33}],29:[function(a,b,c){function d(a,b,c){a.clearRect(0,0,b.width,b.height),b.style||(b.style={}),b.height=c,b.width=c,b.style.height=c+"px",b.style.width=c+"px"}function e(){try{return document.createElement("canvas")}catch(a){throw new Error("You need to specify a canvas element")}}var f=a("./utils");c.render=function(a,b,c){var g=c,h=b;"undefined"!=typeof g||b&&b.getContext||(g=b,b=void 0),b||(h=e()),g=f.getOptions(g);var i=f.getImageWidth(a.modules.size,g),j=h.getContext("2d"),k=j.createImageData(i,i);return f.qrToImageData(k.data,a,g),d(j,h,i),j.putImageData(k,0,0),h},c.renderToDataURL=function(a,b,d){var e=d;"undefined"!=typeof e||b&&b.getContext||(e=b,b=void 0),e||(e={});var f=c.render(a,b,e),g=e.type||"image/png",h=e.rendererOpts||{};return f.toDataURL(g,h.quality)}},{"./utils":31}],30:[function(a,b,c){function d(a,b){var c=a.a/255,d=b+'="'+a.hex+'"';return c<1?d+" "+b+'-opacity="'+c.toFixed(2).slice(1)+'"':d}function e(a,b,c){var d=a+b;return"undefined"!=typeof c&&(d+=" "+c),d}function f(a,b,c){for(var d="",f=0,g=!1,h=0,i=0;i<a.length;i++){var j=Math.floor(i%b),k=Math.floor(i/b);j||g||(g=!0),a[i]?(h++,i>0&&j>0&&a[i-1]||(d+=g?e("M",j+c,.5+k+c):e("m",f,0),f=0,g=!1),j+1<b&&a[i+1]||(d+=e("h",h),h=0)):f++}return d}var g=a("./utils");c.render=function(a,b,c){var e=g.getOptions(b),h=a.modules.size,i=a.modules.data,j=h+2*e.margin,k=e.color.light.a?"<path "+d(e.color.light,"fill")+' d="M0 0h'+j+"v"+j+'H0z"/>':"",l="<path "+d(e.color.dark,"stroke")+' d="'+f(i,h,e.margin)+'"/>',m='viewBox="0 0 '+j+" "+j+'"',n=e.width?'width="'+e.width+'" height="'+e.width+'" ':"",o='<svg xmlns="http://www.w3.org/2000/svg" '+n+m+">"+k+l+"</svg>";return"function"==typeof c&&c(null,o),o}},{"./utils":31}],31:[function(a,b,c){function d(a){if("string"!=typeof a)throw new Error("Color should be defined as hex string");var b=a.slice().replace("#","").split("");if(b.length<3||5===b.length||b.length>8)throw new Error("Invalid hex color: "+a);3!==b.length&&4!==b.length||(b=Array.prototype.concat.apply([],b.map(function(a){return[a,a]}))),6===b.length&&b.push("F","F");var c=parseInt(b.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:255&c,hex:"#"+b.slice(0,6).join("")}}c.getOptions=function(a){a||(a={}),a.color||(a.color={});var b="undefined"==typeof a.margin||null===a.margin||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,e=a.scale||4;return{width:c,scale:c?4:e,margin:b,color:{dark:d(a.color.dark||"#000000ff"),light:d(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},c.getScale=function(a,b){return b.width&&b.width>=a+2*b.margin?b.width/(a+2*b.margin):b.scale},c.getImageWidth=function(a,b){var d=c.getScale(a,b);return Math.floor((a+2*b.margin)*d)},c.qrToImageData=function(a,b,d){for(var e=b.modules.size,f=b.modules.data,g=c.getScale(e,d),h=Math.floor((e+2*d.margin)*g),i=d.margin*g,j=[d.color.light,d.color.dark],k=0;k<h;k++)for(var l=0;l<h;l++){var m=4*(k*h+l),n=d.color.light;if(k>=i&&l>=i&&k<h-i&&l<h-i){var o=Math.floor((k-i)/g),p=Math.floor((l-i)/g);n=j[f[o*e+p]?1:0]}a[m++]=n.r,a[m++]=n.g,a[m++]=n.b,a[m]=n.a}}},{}],32:[function(a,b,c){"use strict";function d(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()}catch(a){return!1}}function e(a,b,c){return e.TYPED_ARRAY_SUPPORT||this instanceof e?"number"==typeof a?i(this,a):r(this,a,b,c):new e(a,b,c)}function f(a){if(a>=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t.toString(16)+" bytes");return 0|a}function g(a){return a!==a}function h(a,b){var c;return e.TYPED_ARRAY_SUPPORT?(c=new Uint8Array(b),c.__proto__=e.prototype):(c=a,null===c&&(c=new e(b)),c.length=b),c}function i(a,b){var c=h(a,b<0?0:0|f(b));if(!e.TYPED_ARRAY_SUPPORT)for(var d=0;d<b;++d)c[d]=0;return c}function j(a,b){var c=0|o(b),d=h(a,c),e=d.write(b);return e!==c&&(d=d.slice(0,e)),d}function k(a,b){for(var c=b.length<0?0:0|f(b.length),d=h(a,c),e=0;e<c;e+=1)d[e]=255&b[e];return d}function l(a,b,c,d){if(c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");var f;return f=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),e.TYPED_ARRAY_SUPPORT?f.__proto__=e.prototype:f=k(a,f),f}function m(a,b){if(e.isBuffer(b)){var c=0|f(b.length),d=h(a,c);return 0===d.length?d:(b.copy(d,0,0,c),d)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||g(b.length)?h(a,0):k(a,b);if("Buffer"===b.type&&Array.isArray(b.data))return k(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function n(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function o(a){if(e.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var b=a.length;return 0===b?0:n(a).length}function p(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function q(a,b,c,d){return p(n(b,a.length-c),a,c,d)}function r(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?l(a,b,c,d):"string"==typeof b?j(a,b,c):m(a,b)}var s=a("isarray");e.TYPED_ARRAY_SUPPORT=d();var t=e.TYPED_ARRAY_SUPPORT?2147483647:1073741823;e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),e.prototype.write=function(a,b,c){void 0===b?(c=this.length,b=0):void 0===c&&"string"==typeof b?(c=this.length,b=0):isFinite(b)&&(b|=0,isFinite(c)?c|=0:c=void 0);var d=this.length-b;if((void 0===c||c>d)&&(c=d),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");return q(this,a,b,c)},e.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c),b<0?(b+=c,b<0&&(b=0)):b>c&&(b=c),b<a&&(b=a);var d;if(e.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=e.prototype;else{var f=b-a;d=new e(f,void 0);for(var g=0;g<f;++g)d[g]=this[g+a]}return d},e.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var f,g=d-c;if(this===a&&c<b&&b<d)for(f=g-1;f>=0;--f)a[f+b]=this[f+c];else if(g<1e3||!e.TYPED_ARRAY_SUPPORT)for(f=0;f<g;++f)a[f+b]=this[f+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);
return g},e.prototype.fill=function(a,b,c){if("string"==typeof a){if("string"==typeof b?(b=0,c=this.length):"string"==typeof c&&(c=this.length),1===a.length){var d=a.charCodeAt(0);d<256&&(a=d)}}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var f;if("number"==typeof a)for(f=b;f<c;++f)this[f]=a;else{var g=e.isBuffer(a)?a:new e(a),h=g.length;for(f=0;f<c-b;++f)this[f+b]=g[f%h]}return this},e.concat=function(a,b){if(!s(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return h(null,0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=i(null,b),f=0;for(c=0;c<a.length;++c){var g=a[c];if(!e.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,f),f+=g.length}return d},e.byteLength=o,e.prototype._isBuffer=!0,e.isBuffer=function(a){return!(null==a||!a._isBuffer)},b.exports=e},{isarray:33}],33:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],34:[function(a,b,c){(function(a){"use strict";b.exports="object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a||this}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(a,b,c){"use strict";var d=a("durruti"),e=a("./components/main.js");d.render(e,document.querySelector(".app"))},{"./components/main.js":43,durruti:3}],36:[function(a,b,c){"use strict";function d(a){function b(a,b){var c=null;return a.some(function(a){if(a.plugin===b)return c=a,!0}),c}function c(c){return function(){a.removePlugin(i[c]),i[c]=this.value;var d=b(h[c],i[c]);d&&a.addPlugin(d.plugin)}}function d(a,b,c){return'\n      <select class="select editor-bar-select-'+a+'">\n        '+b.map(function(a){return'\n            <option value="'+(a.plugin||"")+'" '+(a.plugin===c?"selected":"")+">\n              "+a.title+"\n            </option>\n          "}).join("")+"\n      </select>\n    "}function e(){Object.keys(h).forEach(function(a){h[a].forEach(function(b){g.indexOf(b.plugin)!==-1&&(i[a]=b.plugin)})})}function f(b){return function(){var c={};c[b]={hidden:!0},a.updatePanes(c)}}var g=a.getPlugins(),h={html:[{title:"HTML"},{title:"Markdown",plugin:"markdown"}],css:[{title:"CSS"},{title:"Less",plugin:"less"},{title:"Stylus",plugin:"stylus"}],js:[{title:"JavaScript"},{title:"ES2015/Babel",plugin:"babel"},{title:"CoffeeScript",plugin:"coffeescript"}]},i={html:"",css:"",js:""};this.mount=function(a){for(var b=["html","css","js"],d=0;d<b.length;d++){var e=b[d];a.querySelector(".editor-bar-select-"+e).addEventListener("change",c(e)),a.querySelector(".editor-bar-pane-close-"+e).addEventListener("click",f(e))}},this.render=function(){return e(),'\n      <div class="editor-bar">\n        <div class="editor-bar-pane editor-bar-pane-html">\n          '+d("html",h.html,i.html)+'\n\n          <button type="button" class="editor-bar-pane-close editor-bar-pane-close-html btn" title="Hide HTML">\n            <i class="icon icon-close"></i>\n          </button>\n        </div>\n        <div class="editor-bar-pane editor-bar-pane-css">\n          '+d("css",h.css,i.css)+'\n\n          <button type="button" class="editor-bar-pane-close editor-bar-pane-close-css btn" title="Hide CSS">\n            <i class="icon icon-close"></i>\n          </button>\n        </div>\n        <div class="editor-bar-pane editor-bar-pane-js">\n          '+d("js",h.js,i.js)+'\n\n          <button type="button" class="editor-bar-pane-close editor-bar-pane-close-js btn" title="Hide JavaScript">\n            <i class="icon icon-close"></i>\n          </button>\n        </div>\n        <div class="editor-bar-pane"></div>\n      </div>\n    '}}b.exports=d},{}],37:[function(a,b,c){"use strict";function d(a){e=a,this.mount=function(b){var c=a.getPlugins(),d=[];Object.keys(h).forEach(function(a){c.indexOf(a)!==-1&&Array.prototype.push.apply(d,h[a].map(function(a){return function(b){f.loadScript(a,b)}}))}),Array.prototype.push.apply(c,["siloz",{name:"codemirror",options:{theme:a.getTheme(),lineWrapping:!0}}]),f.async(d,function(){new g(b,{files:a.getFiles(),plugins:c})})},this.render=function(){return'<div class="editor-widget jotted-theme-siloz"></div>'}}var e,f=a("../../util"),g=a("jotted");g.plugin("siloz",function(a,b){a.on("change",function(a,b){e.updateFile({type:a.type,content:a.content}),b(null,a)},2)});var h={markdown:["https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.6/marked.min.js"],less:["https://cdnjs.cloudflare.com/ajax/libs/less.js/2.7.1/less.min.js"],stylus:["/libs/stylus.min.js"],coffeescript:["https://cdn.rawgit.com/jashkenas/coffeescript/1.11.1/extras/coffee-script.js"],es2015:["https://cdnjs.cloudflare.com/ajax/libs/babel-core/6.1.19/browser.min.js"]};b.exports=d},{"../../util":49,jotted:5}],38:[function(a,b,c){"use strict";function d(a){var b=a.getPanes();this.render=function(){return'\n      <div class="editor\n        '+(b.html.hidden?"editor-is-hidden-html":"")+"\n        "+(b.css.hidden?"editor-is-hidden-css":"")+"\n        "+(b.js.hidden?"editor-is-hidden-js":"")+'\n      ">\n        '+e.render(new f(a))+"\n        "+e.render(new g(a))+"\n      </div>\n    "}}var e=a("durruti"),f=a("./editor-bar"),g=a("./editor-widget");b.exports=d},{"./editor-bar":36,"./editor-widget":37,durruti:3}],39:[function(a,b,c){"use strict";function d(a,b){var c=e.inherits(this,f);return f.call(c,"about",b),c.mount=c.super.mount.bind(c),c.unmount=c.super.unmount.bind(c),c.render=function(){return c.super.render.call(c,"About",'\n      <p>\n        <a href="/">siloz.io</a> is a private code playground in the browser.\n      </p>\n\n      <p>\n        Your source code is saved in the URL and never reaches our servers.\n      </p>\n\n      <p>\n        Use HTML, CSS and JavaScript, along with processors like CoffeeScript, Babel/ES2015, Less, Stylus or Markdown.\n      </p>\n\n      <h2>\n        Short URLs\n      </h2>\n\n      <p>\n        siloz.io can generate shorter urls, at a privacy cost.\n      </p>\n\n      <p>\n        When a short url is generated, the url  - that includes the source code - is saved on the server, along with a unique token.\n      </p>\n\n      <p>\n        <a href="https://github.com/ghinda/siloz.io" target="_blank">\n          Source code available on GitHub.\n        </a>\n      </p>\n    ')},c}var e=a("../../util"),f=a("../popup");b.exports=d},{"../../util":49,"../popup":44}],40:[function(a,b,c){"use strict";function d(a){function b(){k.updateLoading("collaborate",!1)}var c,i=j.get(),k=j.actions,l=k.getLoading("collaborate"),m=function(){var b=j.get();JSON.stringify(i)!==JSON.stringify(b)&&e.render(new d(a),c)};this.mount=function(a){c=a,c.querySelector(".collaborate").addEventListener("click",function(){k.updateLoading("collaborate",!0),window.TogetherJS(),window.TogetherJS.on("ready",b),window.TogetherJS.on("close",b)}),j.on("change",m)},this.unmount=function(){window.TogetherJS&&(window.TogetherJS.off("ready",b),window.TogetherJS.off("close",b)),j.off("change",m)},this.render=function(){return'\n      <header class="header">\n        <a href="/" class="header-logo">\n          <img src="/images/logo.png" height="16" alt="siloz.io">\n        </a>\n\n        '+e.render(new h(a,j.actions))+"\n        "+e.render(new f(a,j.actions))+"\n\n        "+e.render(new g(a,j.actions))+'\n\n        <button type="button" class="btn collaborate '+(l?"is-loading":"")+'">\n          Collaborate\n        </button>\n      </header>\n    '}}var e=a("durruti"),f=a("./settings"),g=a("./share"),h=a("./about"),i=a("../../state/store-internal"),j=new i;b.exports=d},{"../../state/store-internal":47,"./about":39,"./settings":41,"./share":42,durruti:3}],41:[function(a,b,c){"use strict";function d(a,b){function c(b){return function(c){var d={};return d[b]={hidden:!c.target.checked},a.updatePanes(d)}}function d(){a.updateTheme(this.value)}var g=e.inherits(this,f);f.call(g,"settings",b);var h=a.getPanes(),i=a.getTheme();return g.mount=function(a){g.super.mount.call(g,a);var b=a.querySelector(".settings-show-html"),e=a.querySelector(".settings-show-css"),f=a.querySelector(".settings-show-js");b.addEventListener("change",c("html")),e.addEventListener("change",c("css")),f.addEventListener("change",c("js")),a.querySelector(".settings-theme").addEventListener("change",d)},g.unmount=g.super.unmount.bind(g),g.render=function(){return g.super.render.call(g,"Settings",'\n      <fieldset>\n        <legend>\n          Tabs\n        </legend>\n\n        <label>\n          <input type="checkbox" class="settings-show-html" '+(h.html.hidden?"":"checked")+'>\n          HTML\n        </label>\n\n        <label>\n          <input type="checkbox" class="settings-show-css" '+(h.css.hidden?"":"checked")+'>\n          CSS\n        </label>\n\n        <label>\n          <input type="checkbox" class="settings-show-js" '+(h.js.hidden?"":"checked")+'>\n          JavaScript\n        </label>\n      </fieldset>\n\n      <fieldset>\n        <legend>\n          Theme\n        </legend>\n\n        <select class="settings-theme select">\n          <option value="solarized light" '+("solarized light"===i?"selected":"")+'>\n            Solarized Light\n          </option>\n          <option value="solarized dark" '+("solarized dark"===i?"selected":"")+">\n            Solarized Dark\n          </option>\n        </select>\n      </fieldset>\n    ")},g}var e=a("../../util"),f=a("../popup");b.exports=d},{"../../util":49,"../popup":44}],42:[function(a,b,c){"use strict";function d(a,b){function c(a){return function(b){var c=f.closest(b.target,".btn");a.select();try{document.execCommand("copy"),c.innerHTML="Copied",setTimeout(function(){c.innerHTML="Copy"},2e3)}catch(a){}}}function d(){e.toDataURL(j,{margin:2,color:{light:"#0000"}},function(a,c){return a?b.updateQr({url:"",error:a.toString()}):void b.updateQr({url:c,error:""})})}var h=this,i=f.inherits(this,g);g.call(i,"share",b);var j="",k=b.getQr();"undefined"!=typeof window&&(j=window.location.href),i.mount=function(a){i.super.mount.call(i,a);var b=a.querySelector(".share-url-input-long"),d=a.querySelector(".share-url-copy-long");d.addEventListener("click",c(b))},i.unmount=function(){i.super.unmount.call(i)};var l=i.togglePopup;return i.togglePopup=function(){l(),h.state===!0&&d()},i.render=function(){return i.super.render.call(i,"Share",'\n      <fieldset class="'+(k.url?"share-is-generated":"")+'">\n        <legend>\n          QR code\n        </legend>\n\n        <img src="'+k.url+'" class="qr-preview">\n\n        <p class="share-qr-error">\n          '+k.error+'\n        </p>\n      </fieldset>\n      <fieldset>\n        <legend>\n          Persistent URL\n        </legend>\n\n        <div class="share-url">\n          <input type="text" class="share-url-input share-url-input-long" value="'+j+'" readonly>\n          <button type="button" class="btn share-url-copy share-url-copy-long">\n            Copy\n          </button>\n        </div>\n      </fieldset>\n    ')},i}var e=a("qrcode"),f=a("../../util"),g=a("../popup");b.exports=d},{"../../util":49,"../popup":44,qrcode:7}],43:[function(a,b,c){"use strict";function d(){var a,b=i.get(),c=i.actions.getTheme(),h=function(){var c=i.get();delete b.files,delete c.files,JSON.stringify(b)!==JSON.stringify(c)&&e.render(d,a)};this.mount=function(b){a=b,i.on("change",h)},this.unmount=function(){i.off("change",h)},this.render=function(){return'\n      <div class="main siloz-theme-'+c.replace(/ /g,"-")+'">\n        '+e.render(new f(i.actions))+"\n        "+e.render(new g(i.actions))+"\n      </div>\n    "}}var e=a("durruti"),f=a("./header/header"),g=a("./editor/editor"),h=a("../state/store"),i=new h;b.exports=d},{"../state/store":48,"./editor/editor":38,"./header/header":40,durruti:3}],44:[function(a,b,c){"use strict";function d(a,b){this.name=a,this.state=b.getPopup(a),this.actions=b,this.togglePopup=this.prototype.togglePopup.bind(this),this.hidePopup=this.prototype.hidePopup.bind(this)}var e=a("../util");d.prototype.togglePopup=function(){this.state=!this.state,this.actions.updatePopup(this.name,this.state)},d.prototype.hidePopup=function(a){!e.closest(a.target,".popup")&&a.target!==this.$button&&this.state&&this.actions.updatePopup(this.name,!1)},d.prototype.mount=function(a){this.$container=a,this.$button=a.querySelector(".popup-button"),this.$button.addEventListener("click",this.togglePopup),document.addEventListener("click",this.hidePopup)},d.prototype.unmount=function(){document.removeEventListener("click",this.hidePopup)},d.prototype.render=function(a,b){return'\n    <div class="popup-container '+this.name+" "+(this.state?"popup-container-is-open":"")+'">\n      <button type="button" class="'+this.name+'-button popup-button btn">\n        '+a+'\n      </button>\n\n      <form class="'+this.name+'-popup popup">\n        '+b+"\n      </form>\n    </div>\n  "},b.exports=d},{"../util":49}],45:[function(a,b,c){"use strict";function d(a){function b(b){return a.get().popup[b]}function c(b,c){var d=a.get();d.popup[b]=c,a.set(d)}function d(b){return a.get().loading[b]}function e(b,c){var d=a.get();d.loading[b]=c,a.set(d)}function f(){return a.get().qr}function g(b){var c=a.get();c.qr=b,a.set(c)}return{getPopup:b,updatePopup:c,getLoading:d,updateLoading:e,getQr:f,updateQr:g}}b.exports=d},{}],46:[function(a,b,c){"use strict";function d(a){function b(){return a.get().files}function c(b){var c=a.get();return c.files.some(function(a,d){if(a.type===b.type)return c.files[d]=f.extend(b,c.files[d]),!0}),a.set(c)}function d(){return a.get().plugins}function g(b){var c=a.get();return c.plugins.push(b),a.set(c)}function h(b){var c=a.get(),d="";return d="object"===("undefined"==typeof b?"undefined":e(b))?b.name:b,c.plugins.some(function(a,b){if("object"===("undefined"==typeof a?"undefined":e(a))&&a.name===d||"string"==typeof a&&a===d)return c.plugins.splice(b,1),!0}),a.set(c)}function i(){return a.get().panes}function j(b){var c=a.get();return c.panes=f.extend(b,c.panes),a.set(c)}function k(){return a.get().theme}function l(b){var c=a.get();return c.theme=b,a.set(c)}return{getFiles:b,updateFile:c,getPlugins:d,addPlugin:g,removePlugin:h,getPanes:i,updatePanes:j,getTheme:k,updateTheme:l}}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("../util");b.exports=d},{"../util":49}],47:[function(a,b,c){"use strict";var d=a("durruti/store"),e=a("./actions-internal"),f={popup:{},loading:{},qr:{url:"",error:""}},g=function(){d.call(this),this.actions=e(this),this.set(f)};g.prototype=Object.create(d.prototype),b.exports=g},{"./actions-internal":45,"durruti/store":4}],48:[function(a,b,c){"use strict";function d(){return"undefined"==typeof window?function(){}:"undefined"!=typeof window.history.replaceState?function(a){window.history.replaceState(null,null,"#"+a)}:function(a){window.location.replace(window.location.href.split("#")[0]+"#"+a)}}function e(){if("undefined"==typeof window)return null;try{return JSON.parse(g.decompressFromEncodedURIComponent(i.hash("s")))}catch(a){}return null}var f=a("durruti/store"),g=a("lz-string"),h=a("./actions"),i=a("../util"),j={version:1,files:[{type:"html",content:""},{type:"css",content:""},{type:"js",content:""}],plugins:[],theme:"solarized light",panes:{html:{},css:{},js:{}}},k=function(){var a=this;f.call(this),this.actions=h(this);var b=d(),c="",k=e();k?this.set(i.extend(k,j)):this.set(j),this.on("change",function(){var d=a.get();c=g.compressToEncodedURIComponent(JSON.stringify(d)),b(i.hash("s",c))}),"undefined"!=typeof window&&window.addEventListener("hashchange",function(){i.hash("s")!==c&&window.location.reload()})};k.prototype=Object.create(f.prototype),b.exports=k},{"../util":49,"./actions":46,"durruti/store":4,"lz-string":6}],49:[function(a,b,c){"use strict";function d(a,b){for(var c;a&&a!==document;){if(!a.parentNode)return null;if(c=a.parentNode.querySelectorAll(b),[].indexOf.call(c,a)!==-1)return a;a=a.parentNode}return null}function e(a){return JSON.parse(JSON.stringify(a))}function f(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(b).forEach(function(c){"undefined"==typeof a[c]?a[c]=e(b[c]):"object"===n(a[c])&&f(a[c],b[c])}),a}function g(a,b){return null===a&&(a={}),f(e(a),b)}function h(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d,h=function(){d=null,c||a.apply(e,f)};clearTimeout(d),d=setTimeout(h,b),g&&a.apply(e,f)}}function i(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},c=document.createElement("script");c.src=a,document.body.appendChild(c),c.onload=b}function j(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a.length===c?b():void a[c](function(){c++,j(a,b,c)})}function k(a,b,c){"function"==typeof b&&(c=b,b={}),b=g(b,{type:"GET",data:{}}),c=c||function(){};var d=new window.XMLHttpRequest;d.open(b.type,a),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.onload=function(){if(d.status>=200&&d.status<400){var a=JSON.parse(d.responseText||"{}");c(null,a)}else c(d)},d.onerror=function(){c(d)},d.send(JSON.stringify(b.data))}function l(a,b){return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.super=Object.getPrototypeOf(a.prototype),a}function m(a,b){var c=[];window.location.hash&&(c=window.location.hash.substr(1).split("&"));var d={},e="";if(c.forEach(function(a,b){var c=a.split("=");d[c[0]]=c[1]||""}),a){if(!b)return d[a];d[a]=b}return Object.keys(d).forEach(function(a,b){b>0&&(e+="&"),e+=a,d[a]&&(e+="="+d[a])}),e}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports={clone:e,extend:g,closest:d,debounce:h,loadScript:i,async:j,fetch:k,hash:m,inherits:l}},{}]},{},[35]);